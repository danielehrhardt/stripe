{"version":3,"file":"plugin.cjs.js","sources":["esm/types/googlepay/enum.js","esm/types/token/enum.js","esm/types/shared/enum.js","esm/index.js","esm/helper.js","esm/web.js"],"sourcesContent":["export var GooglePayCheckoutOption;\n(function (GooglePayCheckoutOption) {\n    /**\n     * Standard text applies for the given totalPriceStatus (default).\n     */\n    GooglePayCheckoutOption[\"DEFAULT\"] = \"DEFAULT\";\n    /**\n     * The selected payment method is charged immediately after the payer confirms their selections.\n     * This option is only available when `totalPriceStatus` is set to `FINAL`.\n     */\n    GooglePayCheckoutOption[\"COMPLETE_IMMEDIATE_PURCHASE\"] = \"COMPLETE_IMMEDIATE_PURCHASE\";\n})(GooglePayCheckoutOption || (GooglePayCheckoutOption = {}));\nexport var GooglePayBillingAddressFormat;\n(function (GooglePayBillingAddressFormat) {\n    /**\n     * Name, country code, and postal code (default).\n     */\n    GooglePayBillingAddressFormat[\"MIN\"] = \"MIN\";\n    /**\n     *  Name, street address, locality, region, country code, and postal code.\n     */\n    GooglePayBillingAddressFormat[\"FULL\"] = \"FULL\";\n})(GooglePayBillingAddressFormat || (GooglePayBillingAddressFormat = {}));\nexport var GooglePayAuthMethod;\n(function (GooglePayAuthMethod) {\n    /**\n     * This authentication method is associated with payment cards stored on file with the user's Google Account.\n     * Returned payment data includes personal account number (PAN) with the expiration month and the expiration year.\n     */\n    GooglePayAuthMethod[\"PAN_ONLY\"] = \"PAN_ONLY\";\n    /**\n     * This authentication method is associated with cards stored as Android device tokens.\n     * Returned payment data includes a 3-D Secure (3DS) cryptogram generated on the device.\n     */\n    GooglePayAuthMethod[\"CRYPTOGRAM_3DS\"] = \"CRYPTOGRAM_3DS\";\n})(GooglePayAuthMethod || (GooglePayAuthMethod = {}));\nexport var GooglePayPriceStatus;\n(function (GooglePayPriceStatus) {\n    /**\n     * Used for a capability check. Do not use this property if the transaction is processed in an EEA country.\n     */\n    GooglePayPriceStatus[\"NOT_CURRENTLY_KNOWN\"] = \"NOT_CURRENTLY_KNOWN\";\n    /**\n     * Total price may adjust based on the details of the response, such as sales tax collected based on a billing address.\n     */\n    GooglePayPriceStatus[\"ESTIMATED\"] = \"ESTIMATED\";\n    /**\n     * Total price doesn't change from the amount presented to the shopper.\n     */\n    GooglePayPriceStatus[\"FINAL\"] = \"FINAL\";\n})(GooglePayPriceStatus || (GooglePayPriceStatus = {}));\n//# sourceMappingURL=enum.js.map","export var SourceType;\n(function (SourceType) {\n    SourceType[\"ThreeDeeSecure\"] = \"3ds\";\n    SourceType[\"GiroPay\"] = \"giropay\";\n    SourceType[\"iDEAL\"] = \"ideal\";\n    SourceType[\"SEPADebit\"] = \"sepadebit\";\n    SourceType[\"Sofort\"] = \"sofort\";\n    SourceType[\"AliPay\"] = \"alipay\";\n    SourceType[\"AliPayReusable\"] = \"alipayreusable\";\n    SourceType[\"P24\"] = \"p24\";\n    SourceType[\"VisaCheckout\"] = \"visacheckout\";\n})(SourceType || (SourceType = {}));\n//# sourceMappingURL=enum.js.map","export var CardBrand;\n(function (CardBrand) {\n    CardBrand[\"AMERICAN_EXPRESS\"] = \"American Express\";\n    CardBrand[\"DISCOVER\"] = \"Discover\";\n    CardBrand[\"JCB\"] = \"JCB\";\n    CardBrand[\"DINERS_CLUB\"] = \"Diners Club\";\n    CardBrand[\"VISA\"] = \"Visa\";\n    CardBrand[\"MASTERCARD\"] = \"MasterCard\";\n    CardBrand[\"UNIONPAY\"] = \"UnionPay\";\n    CardBrand[\"UNKNOWN\"] = \"Unknown\";\n})(CardBrand || (CardBrand = {}));\n//# sourceMappingURL=enum.js.map","import { registerPlugin } from '@capacitor/core';\nconst Stripe = registerPlugin('Stripe', {\n    web: () => import('./web').then(m => new m.StripeWeb()),\n});\nexport * from './definitions';\nexport { Stripe };\n//# sourceMappingURL=index.js.map","export function flatten(json, prefix, omit) {\n    let obj = {};\n    for (const prop of Object.keys(json)) {\n        if (typeof json[prop] !== 'undefined' &&\n            json[prop] !== null &&\n            (!Array.isArray(omit) || !omit.includes(prop))) {\n            if (typeof json[prop] === 'object') {\n                obj = Object.assign(Object.assign({}, obj), flatten(json[prop], prefix ? `${prefix}[${prop}]` : prop));\n            }\n            else {\n                const key = prefix ? `${prefix}[${prop}]` : prop;\n                obj[key] = json[prop];\n            }\n        }\n    }\n    return obj;\n}\nexport function stringify(json) {\n    let str = '';\n    json = flatten(json);\n    for (const prop of Object.keys(json)) {\n        const key = encodeURIComponent(prop);\n        const val = encodeURIComponent(json[prop]);\n        str += `${key}=${val}&`;\n    }\n    return str;\n}\nexport function formBody(json, prefix, omit) {\n    json = flatten(json, prefix, omit);\n    return stringify(json);\n}\nexport async function _callStripeAPI(fetchUrl, fetchOpts) {\n    var _a;\n    const res = await fetch(fetchUrl, fetchOpts);\n    let parsed;\n    try {\n        parsed = await res.json();\n    }\n    catch (e) {\n        parsed = await res.text();\n    }\n    if (res.ok) {\n        return parsed;\n    }\n    else {\n        throw ((_a = parsed === null || parsed === void 0 ? void 0 : parsed.error) === null || _a === void 0 ? void 0 : _a.message) ? parsed.error.message : parsed;\n    }\n}\nexport async function _stripePost(path, body, key, extraHeaders) {\n    extraHeaders = extraHeaders || {};\n    return _callStripeAPI(`https://api.stripe.com${path}`, {\n        body: body,\n        method: 'POST',\n        headers: Object.assign({ 'Content-Type': 'application/x-www-form-urlencoded', 'Accept': 'application/json', 'Authorization': `Bearer ${key}`, 'Stripe-version': '2020-03-02' }, extraHeaders),\n    });\n}\nexport async function _stripeGet(path, key, extraHeaders) {\n    extraHeaders = extraHeaders || {};\n    return _callStripeAPI(`https://api.stripe.com${path}`, {\n        method: 'GET',\n        headers: Object.assign({ 'Accept': 'application/json', 'Authorization': `Bearer ${key}`, 'Stripe-version': '2020-03-02' }, extraHeaders),\n    });\n}\n//# sourceMappingURL=helper.js.map","import { WebPlugin } from '@capacitor/core';\nimport { CardBrand } from './definitions';\nimport { formBody, _stripePost, _stripeGet } from './helper';\nexport class StripeWeb extends WebPlugin {\n    constructor() {\n        super({\n            name: 'Stripe',\n            platforms: ['web'],\n        });\n    }\n    async setPublishableKey(opts) {\n        if (typeof opts.key !== 'string' || opts.key.trim().length === 0) {\n            throw new Error('you must provide a valid key');\n        }\n        const scriptEl = document.createElement('script');\n        scriptEl.src = 'https://js.stripe.com/v3/';\n        document.body.appendChild(scriptEl);\n        this.publishableKey = opts.key;\n        return new Promise((resolve, reject) => {\n            scriptEl.addEventListener('error', (ev) => {\n                document.body.removeChild(scriptEl);\n                reject('Failed to load Stripe JS: ' + ev.message);\n            }, { once: true });\n            scriptEl.addEventListener('load', () => {\n                try {\n                    this.stripe = new window.Stripe(opts.key);\n                    resolve();\n                }\n                catch (err) {\n                    document.body.removeChild(scriptEl);\n                    reject(err);\n                }\n            }, { once: true });\n        });\n    }\n    async createCardToken(card) {\n        if (this.publishableKey === undefined) {\n            throw 'publishableKey is undefined';\n        }\n        const body = formBody(card, 'card', ['phone', 'email']);\n        return _stripePost('/v1/tokens', body, this.publishableKey);\n    }\n    async createBankAccountToken(bankAccount) {\n        if (this.publishableKey === undefined) {\n            throw 'publishableKey is undefined';\n        }\n        const body = formBody(bankAccount, 'bank_account');\n        return _stripePost('/v1/tokens', body, this.publishableKey);\n    }\n    async confirmPaymentIntent(opts) {\n        if (this.stripe === undefined) {\n            throw 'Stripe is undefined';\n        }\n        if (opts.applePayOptions) {\n            throw 'Apple Pay is not supported on web';\n        }\n        if (opts.googlePayOptions) {\n            throw 'Google Pay is not supported on web';\n        }\n        if (!opts.clientSecret) {\n            return Promise.reject('you must provide a client secret');\n        }\n        let confirmOpts;\n        if (opts.paymentMethodId) {\n            confirmOpts = {\n                payment_method: opts.paymentMethodId,\n            };\n        }\n        else if (opts.card) {\n            const token = await this.createCardToken(opts.card);\n            confirmOpts = {\n                save_payment_method: opts.saveMethod,\n                setup_future_usage: opts.setupFutureUsage,\n                payment_method: {\n                    billing_details: {\n                        email: opts.card.email,\n                        name: opts.card.name,\n                        phone: opts.card.phone,\n                        address: {\n                            line1: opts.card.address_line1,\n                            line2: opts.card.address_line2,\n                            city: opts.card.address_city,\n                            state: opts.card.address_state,\n                            country: opts.card.address_country,\n                            postal_code: opts.card.address_zip,\n                        },\n                    },\n                    card: {\n                        token: token.id,\n                    },\n                },\n            };\n        }\n        return this.stripe\n            .confirmCardPayment(opts.clientSecret, confirmOpts)\n            .then(response => response.paymentIntent || {});\n    }\n    async confirmSetupIntent(opts) {\n        if (!opts.clientSecret) {\n            return Promise.reject('you must provide a client secret');\n        }\n        return Promise.reject('Not supported on web');\n    }\n    async payWithApplePay(options) {\n        console.log(options);\n        throw 'Apple Pay is not supported on web';\n    }\n    async cancelApplePay() {\n        throw 'Apple Pay is not supported on web';\n    }\n    async finalizeApplePayTransaction(options) {\n        console.log(options);\n        throw 'Apple Pay is not supported on web';\n    }\n    async payWithGooglePay(options) {\n        console.log(options);\n        throw 'Google Pay is not supported on web';\n    }\n    async createSourceToken(options) {\n        console.log(options);\n        throw 'Not implemented';\n    }\n    async createPiiToken(options) {\n        if (this.publishableKey === undefined) {\n            throw 'publishableKey is undefined';\n        }\n        const body = formBody({ id_number: options.pii }, 'pii');\n        return _stripePost('/v1/tokens', body, this.publishableKey);\n    }\n    async createAccountToken(account) {\n        if (this.publishableKey === undefined) {\n            return Promise.reject('publishableKey is undefined');\n        }\n        if (!account.legalEntity) {\n            return Promise.reject('you must provide a legal entity');\n        }\n        const body = {};\n        if (account.legalEntity.type === 'individual') {\n            body.business_type = 'individual';\n            body.individual = account.legalEntity;\n            body.tos_shown_and_accepted = account.tosShownAndAccepted;\n        }\n        else {\n            body.business_type = 'company';\n            body.company = account.legalEntity;\n        }\n        delete account.legalEntity.type;\n        return _stripePost('/v1/tokens', formBody({ account: body }), this.publishableKey);\n    }\n    async customizePaymentAuthUI(options) {\n        console.log(options);\n        return;\n    }\n    async presentPaymentOptions() {\n        return {};\n    }\n    async isApplePayAvailable() {\n        return { available: false };\n    }\n    async isGooglePayAvailable() {\n        return { available: false };\n    }\n    async validateCardNumber(opts) {\n        return {\n            valid: opts.number.length > 0,\n        };\n    }\n    async validateExpiryDate(opts) {\n        const { exp_month } = opts;\n        let { exp_year } = opts;\n        if (exp_month < 1 || exp_month > 12) {\n            return {\n                valid: false,\n            };\n        }\n        if (String(exp_year).length === 2) {\n            exp_year = parseInt('20' + String(exp_year));\n        }\n        const currentYear = new Date().getFullYear();\n        if (exp_year > currentYear) {\n            return {\n                valid: true,\n            };\n        }\n        else if (exp_year === currentYear &&\n            exp_month >= new Date().getMonth() + 1) {\n            return {\n                valid: true,\n            };\n        }\n        else {\n            return {\n                valid: false,\n            };\n        }\n    }\n    async validateCVC(opts) {\n        if (typeof opts.cvc !== 'string') {\n            return { valid: false };\n        }\n        const len = opts.cvc.trim().length;\n        return {\n            valid: len > 0 && len < 4,\n        };\n    }\n    async identifyCardBrand(opts) {\n        console.log(opts);\n        return {\n            brand: CardBrand.UNKNOWN,\n        };\n    }\n    addCustomerSource(opts) {\n        if (this.cs === undefined) {\n            throw 'CustomerSession is undefined';\n        }\n        return this.cs.addSrc(opts.sourceId);\n    }\n    customerPaymentMethods() {\n        if (this.cs === undefined) {\n            throw 'CustomerSession is undefined';\n        }\n        return this.cs.listPm();\n    }\n    deleteCustomerSource(opts) {\n        console.log(opts);\n        return new Promise(resolve => {\n            resolve({\n                paymentMethods: [],\n            });\n        });\n    }\n    async initCustomerSession(opts) {\n        this.cs = new CustomerSession(opts);\n    }\n    setCustomerDefaultSource(opts) {\n        if (this.cs === undefined) {\n            throw 'CustomerSession is undefined';\n        }\n        return this.cs.setDefaultSrc(opts.sourceId);\n    }\n}\nclass CustomerSession {\n    constructor(key) {\n        this.key = key;\n        if (!key.secret ||\n            !Array.isArray(key.associated_objects) ||\n            !key.associated_objects.length ||\n            !key.associated_objects[0].id) {\n            throw new Error('you must provide a valid configuration');\n        }\n        this.customerId = key.associated_objects[0].id;\n    }\n    async listPm() {\n        const res = await _stripeGet(`/v1/customers/${this.customerId}`, this.key.secret);\n        return {\n            paymentMethods: res.sources.data,\n        };\n    }\n    async addSrc(id) {\n        await _stripePost('/v1/customers/' + this.customerId, formBody({\n            source: id,\n        }), this.key.secret);\n        return this.listPm();\n    }\n    async setDefaultSrc(id) {\n        await _stripePost('/v1/customers/' + this.customerId, formBody({\n            default_source: id,\n        }), this.key.secret);\n        return await this.listPm();\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["GooglePayCheckoutOption","GooglePayBillingAddressFormat","GooglePayAuthMethod","GooglePayPriceStatus","SourceType","CardBrand","registerPlugin","WebPlugin"],"mappings":"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"}